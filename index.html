<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="icon" type="image/x-icon" href="https://www.ruby-lang.org/favicon.ico">
      <title>Ruby, Ruby, Ruby, Ruby!</title>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
            integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>

<body>
      <div class="container-fluid ps-2 mt-2 col-10">
            <div class="row" style="border: 1px solid #ccc; box-shadow: 2px 2px 4px rgba(0,0,0,0.2);">
                  <div class="col">
                        <form id="pessoa-form">
                              <div class="form-group">
                                    <p>Cadastro de Pessoa</p>
                                    <p>Nome</p>
                                    <input type="text" class="form-control" placeholder="Nome" name="nome"><br>
                                    <p>CPF</p>
                                    <input type="text" class="form-control" placeholder="CPF" name="cpf"><br>
                                    <input type="submit" class="btn btn-primary" value="Salvar"><br>
                              </div>
                        </form>
                        <hr>
                        <form id="car-form">
                              <div class="form-group">
                                    <p>Cadastro de Carro</p>
                                    <p>Marca</p>
                                    <input type="text" class="form-control" name="marca" placeholder="Nome"><br>
                                    <p>Cor</p>
                                    <input type="text" class="form-control" name="cor" placeholder="Cor"><br>
                                    <button type="submit" class="btn btn-primary">Salvar</button><br>
                              </div>
                        </form>
                        <hr>
                        <form id="pessoaCarro-form">
                              <div class="form-group">
                                    <p>Cadastro de Pessoas e Carros</p>
                                    <p>ID da Pessoa</p>
                                    <input type="text" class="form-control" placeholder="ID pessoa" name="id_pessoa"><br>
                                    <p>ID do Carro</p>
                                    <input type="text" class="form-control" placeholder="ID carro" name="id_carro"><br>
                                    <input type="submit" class="btn btn-primary" value="Salvar"><br>
                              </div>
                        </form>
                        <hr>
                        <form action="http://0.0.0.0:9292/criar-tabelas" method="post">
                              <input type="submit" name="criar" value="Criar tabelas" />
                        </form>
                        <form action="http://0.0.0.0:9292/resetar-tabelas" method="post">
                              <input type="submit" name="Deletar" value="Deletar tabelas" />
                        </form>
                        <form action="http://0.0.0.0:9292/listar-Pessoas" method="get">
                              <input type="submit" name="listar-Pessoas" value="Listar pessoas" />
                        </form>
                        <form action="http://0.0.0.0:9292/listar-Carros" method="get">
                              <input type="submit" name="listar-Carros" value="Listar carros" />
                        </form>
                        <form action="http://0.0.0.0:9292/listar-PessoasCarros" method="get">
                              <input type="submit" name="listar-PessoasCarros" value="Listar Pessoas e Carros" />
                        </form>
                        <hr>

                        <script>
                              const carForm = document.querySelector('#car-form');
                              const pessoaForm = document.querySelector('#pessoa-form');
                              const pessoaCarroForm = document.querySelector('#pessoaCarro-form');

                              pessoaForm.addEventListener('submit', (event) => {
                                    event.preventDefault();
                                    const formData = new FormData(pessoaForm);
                                    fetch('http://0.0.0.0:9292/cadastro-Pessoa', {
                                          method: 'POST',
                                          body: formData,
                                    })
                                          .then(response => response.text())
                                          .then(data => console.log(data))
                                          .catch(error => console.error(error));
                              });

                              carForm.addEventListener('submit', (event) => {
                                    event.preventDefault();
                                    const formData = new FormData(carForm);
                                    fetch('http://0.0.0.0:9292/cadastro-Carro', {
                                          method: 'POST',
                                          body: formData,
                                    })
                                          .then(response => response.text())
                                          .then(data => console.log(data))
                                          .catch(error => console.error(error));
                              });

                              pessoaCarroForm.addEventListener('submit', (event) => {
                                    event.preventDefault();
                                    const formData = new FormData(pessoaCarroForm);
                                    fetch('http://0.0.0.0:9292/cadastro-PessoaCarro', {
                                          method: 'POST',
                                          body: formData,
                                    })
                                          .then(response => response.text())
                                          .then(data => console.log(data))
                                          .catch(error => console.error(error));
                              });
                        </script>
                  </div>
            </div>
      </div>
      <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
            crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"></script>
</body>

</html>